<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Menú de Navegación - MVP v1.3 Barreras</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="feedback.css">
  <style>
    .menu-container {
      min-height: 100vh;
      background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
      padding: 40px 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .menu-card {
      background: white;
      border-radius: 24px;
      padding: 40px;
      max-width: 1000px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
    }

    .menu-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .menu-logo {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
      border-radius: 20px;
      font-size: 32px;
      font-weight: 800;
      color: white;
      margin-bottom: 15px;
    }

    .menu-title {
      font-size: 28px;
      font-weight: 800;
      color: #0f172a;
      margin: 0 0 10px 0;
    }

    .menu-subtitle {
      font-size: 16px;
      color: #64748b;
      margin: 0;
    }

    .alert-demo {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border: 2px solid #f59e0b;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 30px;
    }

    .alert-demo h4 {
      font-size: 16px;
      font-weight: 700;
      color: #92400e;
      margin: 0 0 10px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .alert-demo p {
      font-size: 14px;
      color: #78350f;
      margin: 0;
      line-height: 1.6;
    }

    .barreras-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 25px;
    }

    .barrera-card {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 16px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .barrera-card:hover {
      border-color: #0ea5e9;
      box-shadow: 0 8px 24px rgba(14, 165, 233, 0.15);
      transform: translateY(-2px);
    }

    .barrera-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: linear-gradient(180deg, #0ea5e9 0%, #0284c7 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .barrera-card:hover::before {
      opacity: 1;
    }

    .barrera-tag {
      display: inline-block;
      background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
      color: white;
      font-size: 12px;
      font-weight: 700;
      padding: 4px 12px;
      border-radius: 20px;
      margin-bottom: 10px;
    }

    .barrera-nombre {
      font-size: 16px;
      font-weight: 700;
      color: #0f172a;
      margin: 0 0 8px 0;
    }

    .barrera-desc {
      font-size: 13px;
      color: #64748b;
      margin: 0 0 12px 0;
      line-height: 1.5;
    }

    .barrera-meta {
      display: flex;
      align-items: center;
      gap: 15px;
      font-size: 12px;
      color: #94a3b8;
    }

    .barrera-meta span {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .navegacion-libre-card {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      border: none;
      color: white;
      grid-column: 1 / -1;
    }

    .navegacion-libre-card:hover {
      border: none;
      box-shadow: 0 8px 24px rgba(245, 158, 11, 0.3);
    }

    .navegacion-libre-card::before {
      background: white;
    }

    .navegacion-libre-card .barrera-tag {
      background: rgba(255, 255, 255, 0.3);
    }

    .navegacion-libre-card .barrera-nombre,
    .navegacion-libre-card .barrera-desc {
      color: white;
    }

    .navegacion-libre-card .barrera-meta {
      color: rgba(255, 255, 255, 0.8);
    }
  </style>
</head>
<body>

  <!--
    PANTALLA: index.html (Menú de Navegación por Barreras)
    BARRERAS: Punto de entrada para todas las barreras (B1-B7)
    FUNCIONES: Sistema de navegación guiada para talleres de validación
    ACTORES: Todos (Facilitadores de talleres de validación)
    DESCRIPCIÓN: Menú principal que permite seleccionar qué barrera demostrar o navegar libremente.
  -->

  <div class="menu-container">
    <div class="menu-card">
      <div class="menu-header">
        <div class="menu-logo">PT</div>
        <h1 class="menu-title">MVP v1.3: Navegación por Barreras</h1>
        <p class="menu-subtitle">Plataforma Textil OIT-UNTREF | Sistema de Validación</p>
      </div>

      <div class="alert-demo">
        <h4>
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="12" y1="16" x2="12" y2="12"/>
            <line x1="12" y1="8" x2="12.01" y2="8"/>
          </svg>
          Modo de Navegación Guiada
        </h4>
        <p>
          Seleccioná una <strong>barrera específica</strong> para demostrar cómo la plataforma la resuelve, siguiendo un flujo guiado que mantiene el foco en esa problemática.
          Si intentás navegar fuera del flujo, recibirás una advertencia.
          Para explorar libremente, elegí <strong>"Navegación Libre"</strong>.
        </p>
      </div>

      <div class="barreras-grid">
        <!-- B1 -->
        <div class="barrera-card" onclick="seleccionarBarrera('B1')">
          <span class="barrera-tag">B1</span>
          <h3 class="barrera-nombre">Falta de Trazabilidad y Transparencia</h3>
          <p class="barrera-desc">Demuestra cómo el sistema permite rastrear toda la cadena de producción desde la marca hasta el trabajador.</p>
          <div class="barrera-meta">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              Marca
            </span>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
              </svg>
              7 pantallas
            </span>
          </div>
        </div>

        <!-- B2 -->
        <div class="barrera-card" onclick="seleccionarBarrera('B2')">
          <span class="barrera-tag">B2</span>
          <h3 class="barrera-nombre">Desconfianza entre Actores</h3>
          <p class="barrera-desc">Muestra cómo el sistema construye confianza mediante reputaciones verificables y mecanismos de resolución de conflictos.</p>
          <div class="barrera-meta">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              Marca/Trabajador
            </span>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
              </svg>
              6 pantallas
            </span>
          </div>
        </div>

        <!-- B3 -->
        <div class="barrera-card" onclick="seleccionarBarrera('B3')">
          <span class="barrera-tag">B3</span>
          <h3 class="barrera-nombre">Proceso de Formalización Complejo y Costoso</h3>
          <p class="barrera-desc">Simplifica la formalización dividiéndola en pasos incrementales con asistencia en cada etapa.</p>
          <div class="barrera-meta">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              Taller
            </span>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
              </svg>
              5 pantallas
            </span>
          </div>
        </div>

        <!-- B4 -->
        <div class="barrera-card" onclick="seleccionarBarrera('B4')">
          <span class="barrera-tag">B4</span>
          <h3 class="barrera-nombre">Falta de Articulación entre Actores</h3>
          <p class="barrera-desc">La plataforma como punto de encuentro y coordinación entre Estado, Sindicatos, Cámaras y actores productivos.</p>
          <div class="barrera-meta">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              Mesa Tripartita
            </span>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
              </svg>
              4 pantallas
            </span>
          </div>
        </div>

        <!-- B5 -->
        <div class="barrera-card" onclick="seleccionarBarrera('B5')">
          <span class="barrera-tag">B5</span>
          <h3 class="barrera-nombre">Estado Ausente o Ineficaz</h3>
          <p class="barrera-desc">Amplifica la capacidad estatal mediante inteligencia de datos, fiscalización dirigida y presencia digital permanente.</p>
          <div class="barrera-meta">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              Inspector
            </span>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
              </svg>
              4 pantallas
            </span>
          </div>
        </div>

        <!-- B6 -->
        <div class="barrera-card" onclick="seleccionarBarrera('B6')">
          <span class="barrera-tag">B6</span>
          <h3 class="barrera-nombre">Bajas Capacidades Técnicas y Gerenciales</h3>
          <p class="barrera-desc">Universidad permanente del sector con capacitación contextual, certificaciones verificables y asistencia IA.</p>
          <div class="barrera-meta">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              Taller
            </span>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
              </svg>
              3 pantallas
            </span>
          </div>
        </div>

        <!-- B7 -->
        <div class="barrera-card" onclick="seleccionarBarrera('B7')">
          <span class="barrera-tag">B7</span>
          <h3 class="barrera-nombre">Dumping Social y Competencia Desleal</h3>
          <p class="barrera-desc">Nivela la cancha haciendo visible el nivel de formalización y ajustando dinámicamente comisiones.</p>
          <div class="barrera-meta">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              Marca
            </span>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
              </svg>
              5 pantallas
            </span>
          </div>
        </div>

        <!-- Navegación Libre -->
        <div class="barrera-card navegacion-libre-card" onclick="seleccionarBarrera('libre')">
          <span class="barrera-tag">✨ SIN RESTRICCIONES</span>
          <h3 class="barrera-nombre">Navegación Libre</h3>
          <p class="barrera-desc">Explora todas las 24 pantallas del MVP sin restricciones. Ideal para exploración técnica o familiarización general con la plataforma.</p>
          <div class="barrera-meta">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              Todos los perfiles
            </span>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
              </svg>
              24 pantallas
            </span>
          </div>
        </div>
      </div>

      <div style="text-align: center; padding-top: 20px; border-top: 2px solid #e2e8f0;">
        <p style="font-size: 13px; color: #94a3b8; margin: 0;">
          MVP v1.3 Barreras | OIT-UNTREF |
          <a href="NAVEGACION_POR_BARRERAS.md" style="color: #0ea5e9; text-decoration: none; font-weight: 600;">Ver guía de navegación completa</a>
        </p>
      </div>
    </div>
  </div>

  <script>
    // Limpiar barrera actual ANTES de cargar otros scripts
    sessionStorage.removeItem('barreraActual');
  </script>

  <script src="data.js"></script>
  <script src="script.js"></script>
  <script src="feedback.js"></script>
  <script src="navigation-controller.js"></script>
  <script>
    function seleccionarBarrera(barrera) {
      if (window.navController) {
        window.navController.seleccionarBarrera(barrera);
      } else {
        // Fallback si el controlador no está cargado
        sessionStorage.setItem('barreraActual', barrera);

        if (barrera === 'libre') {
          window.location.href = 'dashboard-v1.3.html';
        } else {
          // Usar configuración básica de redirección
          const inicios = {
            'B1': 'dashboard-v1.3.html',
            'B2': 'dashboard-v1.3.html',
            'B3': 'validaciones.html',
            'B4': 'dashboard-tripartito.html',
            'B5': 'auditorias.html',
            'B6': 'capacitaciones.html',
            'B7': 'seleccionar-proveedor.html'
          };

          window.location.href = inicios[barrera] || 'dashboard-v1.3.html';
        }
      }
    }
  </script>

</body>
</html>
